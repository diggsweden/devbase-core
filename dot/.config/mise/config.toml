# SPDX-FileCopyrightText: 2025 Digg - Agency for Digital Government
#
# SPDX-License-Identifier: CC0-1.0

[settings]
# Enable experimental features (new backends, tools, etc.)
experimental = true

# Disable reading legacy version files like .nvmrc, .python-version
# Set to true if you want mise to read these files automatically
legacy_version_file = false

# Disable asdf compatibility mode - mise runs in native mode
# Set to true if you need compatibility with asdf plugins
asdf_compat = false

# Number of parallel jobs for installations (6 cores)
# Adjust based on your system capabilities
jobs = 6

# Auto-answer "yes" to all prompts during installations
# Useful for automated scripts and CI/CD
yes = true

# HTTP timeout for downloads (90 seconds for corporate proxies)
# Increase if experiencing timeouts during tool downloads
http_timeout = "90s"

# Note: verify_downloads was deprecated in newer mise versions
# Checksums are now verified automatically when available

[env]
# Proxy configuration - available during tool installation AND runtime
# These are set by devbase during installation (00-proxy.fish)
HTTP_PROXY = "{{ get_env(name='HTTP_PROXY', default='') }}"
HTTPS_PROXY = "{{ get_env(name='HTTPS_PROXY', default='') }}"
NO_PROXY = "{{ get_env(name='NO_PROXY', default='') }}"
http_proxy = "{{ get_env(name='http_proxy', default='') }}"
https_proxy = "{{ get_env(name='https_proxy', default='') }}"
no_proxy = "{{ get_env(name='no_proxy', default='') }}"

# Pip/pipx configuration
PIP_INDEX_URL = "{{ get_env(name='PIP_INDEX_URL', default='') }}"

# NPM configuration
NPM_CONFIG_REGISTRY = "{{ get_env(name='NPM_CONFIG_REGISTRY', default='') }}"

# Configure ruby-build to use system OpenSSL instead of compiling from source
RUBY_CONFIGURE_OPTS = "--with-openssl-dir=/usr"

[tools]
# Core Languages & Runtimes (managed by mise, auto-updated by Renovate)
node = "24.11.1"
go = "1.25.4"
python = "3.14.0"
ruby = "3.4.7"
# rust = "1.91.0"  # Commented out - slow compilation on WSL
java = "temurin-25.0.1+8.0.LTS"
maven = "3.9.6"
gradle = "8.12"

# Development and build tools
"aqua:casey/just" = "1.43.1"
"ubi:rvben/rumdl" = "v0.0.188"
jq = "jq-1.8.1"
"aqua:mikefarah/yq" = "v4.48.2"
"aqua:mike-engel/jwt-cli" = "6.2.0"

# Shell and terminal enhancements
"aqua:junegunn/fzf" = "v0.67.0"
"aqua:eza-community/eza" = "v0.23.4"
"aqua:sharkdp/bat" = "v0.26.0"
"aqua:sharkdp/vivid" = "v0.10.1"
"aqua:starship/starship" = "v1.24.1"
"aqua:zellij-org/zellij" = "v0.43.1"

# Git and development tools
"aqua:dandavison/delta" = "0.18.2"
"aqua:orhun/git-cliff" = "v2.10.1"
"aqua:neovim/neovim" = "v0.11.5"
"npm:tree-sitter-cli" = "0.25.10"

# Container and Kubernetes tools
"aqua:docker/compose" = "v2.40.3"
"aqua:derailed/k9s" = "v0.50.16"
"aqua:grafana/k6" = "v1.4.2"
"aqua:argoproj/argo-cd" = "v3.2.1"
"aqua:bitnami-labs/sealed-secrets" = "v0.33.1"
"aqua:tektoncd/cli" = "v0.43.0"  # Tekton CLI (tkn)

# Code quality and formatting
"aqua:google/yamlfmt" = "v0.20.0"
"aqua:rhysd/actionlint" = "v1.7.8"
"github:pmd/pmd" = "pmd_releases/7.17.0"
"ubi:checkstyle/checkstyle" = "checkstyle-11.0.1"
"aqua:hadolint/hadolint" = "v2.14.0"
"aqua:koalaman/shellcheck" = "v0.11.0"
"aqua:mvdan/sh" = "v3.12.0"  # shfmt - Shell formatter

# Security scanning
"aqua:zricethezav/gitleaks" = "v8.29.1"
"aqua:anchore/syft" = "v1.38.0"
"aqua:ossf/scorecard" = "v5.4.0"


# Verification tools (for verifying other tools)
"aqua:sigstore/cosign" = "3.0.2"
"github:slsa-framework/slsa-verifier" = "v2.7.1"

# Git commit standards
"aqua:siderolabs/conform" = "v0.1.0-alpha.30"

# Public code validation (for Swedish/EU public sector)
"github:italia/publiccode-parser-go" = "v4.3.7"

# Additional development tools
"aqua:BurntSushi/ripgrep" = "15.1.0"
"aqua:sharkdp/fd" = "v10.3.0"
"aqua:tldr-pages/tlrc" = "v1.12.0"
"aqua:jesseduffield/lazygit" = "v0.56.0"
"aqua:aristocratos/btop" = "v1.4.5"
"aqua:cli/cli" = "v2.83.1"           # GitHub CLI (gh)
"ubi:gitlab-org/cli[provider=gitlab,exe=glab]" = "v1.68.0"    # GitLab CLI (glab)

# File managers
"aqua:gokcehan/lf" = "r38"