# SPDX-FileCopyrightText: 2025 Digg - Agency for Digital Government
#
# SPDX-License-Identifier: CC0-1.0

[settings]
# Enable experimental features (new backends, tools, etc.)
experimental = true

# Disable reading legacy version files like .nvmrc, .python-version
# Set to true if you want mise to read these files automatically
legacy_version_file = false

# Disable asdf compatibility mode - mise runs in native mode
# Set to true if you need compatibility with asdf plugins
asdf_compat = false

# Number of parallel jobs for installations (6 cores)
# Adjust based on your system capabilities
jobs = 6

# Auto-answer "yes" to all prompts during installations
# Useful for automated scripts and CI/CD
yes = true

# HTTP timeout for downloads (90 seconds for corporate proxies)
# Increase if experiencing timeouts during tool downloads
http_timeout = "90s"

# Note: verify_downloads was deprecated in newer mise versions
# Checksums are now verified automatically when available

[env]
# Proxy configuration - available during tool installation AND runtime
# These are set by devbase during installation (00-proxy.fish)
HTTP_PROXY = "{{ get_env(name='HTTP_PROXY', default='') }}"
HTTPS_PROXY = "{{ get_env(name='HTTPS_PROXY', default='') }}"
NO_PROXY = "{{ get_env(name='NO_PROXY', default='') }}"
http_proxy = "{{ get_env(name='http_proxy', default='') }}"
https_proxy = "{{ get_env(name='https_proxy', default='') }}"
no_proxy = "{{ get_env(name='no_proxy', default='') }}"

# Pip/pipx configuration
PIP_INDEX_URL = "{{ get_env(name='PIP_INDEX_URL', default='') }}"

# NPM configuration
NPM_CONFIG_REGISTRY = "{{ get_env(name='NPM_CONFIG_REGISTRY', default='') }}"

# Configure ruby-build to use system OpenSSL instead of compiling from source
RUBY_CONFIGURE_OPTS = "--with-openssl-dir=/usr"
